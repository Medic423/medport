# Plan for February 4, 2026 - Toll-Free Verification Application Follow-up

**Created:** February 3, 2026  
**Context:** Azure toll-free verification application submitted, configuration updates needed

---

## Current Status

### ✅ Completed

- **Application Submitted:** `35e65296-1dee-4d7d-970b-43d4dac831e3`
- **Submission Date:** February 3, 2026
- **New Phone Number:** `+18663667374`
- **Old Phone Number:** `+18339675959` (released)
- **Local Configuration:** `backend/.env.local` updated ✅
- **Documentation:** All documentation updated ✅
- **Git:** All changes committed ✅

### ⏳ Pending Manual Updates

1. **GitHub Secrets:** Need to CREATE new secret (doesn't exist yet)
2. **Azure App Services:** Need to update configuration in both dev and prod

---

## GitHub Secrets - Detailed Answer

### Question: "Am I in the correct place? I don't see an AZURE_COMMUNICATION_PHONE_NUMBER listing."

**Answer:** ✅ **YES, you're in the correct place!** 

The secret `AZURE_COMMUNICATION_PHONE_NUMBER` doesn't exist yet in your repository, which is why you don't see it in the list. This is normal - you need to **CREATE** it, not update it.

### Why the Secret Doesn't Exist

Looking at your GitHub Secrets list, I see:
- Azure App Service secrets (client IDs, subscription IDs, tenant IDs)
- Database URLs
- Publish profiles
- API tokens

But **no `AZURE_COMMUNICATION_PHONE_NUMBER`** secret exists yet.

**This is normal** - the phone number was likely:
1. Set directly in Azure App Service configuration (not via GitHub Secrets)
2. Or hardcoded in the code initially
3. Or the secret was never created for this variable

### What to Do

**Since the secret doesn't exist, you need to CREATE it:**

1. **Click:** "New repository secret" button (green button visible in your screenshot)
2. **Name:** Enter exactly: `AZURE_COMMUNICATION_PHONE_NUMBER`
   - ⚠️ **Important:** Name must match exactly (case-sensitive)
3. **Secret:** Enter: `+18663667374`
   - ⚠️ **Important:** Include the `+` sign
4. **Click:** "Add secret"
5. **Verify:** The secret should now appear in your list

### When This Secret is Used

**GitHub Actions workflows** that deploy to Azure will use this secret to:
- Set the `AZURE_COMMUNICATION_PHONE_NUMBER` environment variable in Azure App Services
- Or inject it into the application during deployment

**Check if workflows use it:**
- Look in `.github/workflows/` directory
- Search for `AZURE_COMMUNICATION_PHONE_NUMBER` in workflow files
- If workflows reference it, they'll use the secret you create

### If Workflows Don't Use It

**If no workflows reference this secret:**
- The secret may not be needed for GitHub Actions
- The phone number might be set directly in Azure Portal only
- Still good to create it for consistency and future use

---

## Manual Updates Required

### 1. GitHub Secrets - CREATE New Secret

**Location:** GitHub → Repository → Settings → Secrets and variables → Actions

**Steps:**
1. Click **"New repository secret"** button (green button)
2. **Name:** `AZURE_COMMUNICATION_PHONE_NUMBER`
3. **Secret:** `+18663667374`
4. Click **"Add secret"**
5. Verify it appears in the list

**Note:** This is a CREATE operation, not UPDATE (secret doesn't exist yet).

---

### 2. Azure App Services - UPDATE Configuration

#### TraccEms-Dev-Backend

**Steps:**
1. Go to: Azure Portal → App Services → **TraccEms-Dev-Backend**
2. Click: **Configuration** (in left menu)
3. Click: **Application settings** tab
4. Find: `AZURE_COMMUNICATION_PHONE_NUMBER` in the list
5. **If it exists:**
   - Click **Edit** (pencil icon)
   - Change value from: `+18339675959`
   - To: `+18663667374`
   - Click **OK**
6. **If it doesn't exist:**
   - Click **+ New application setting**
   - **Name:** `AZURE_COMMUNICATION_PHONE_NUMBER`
   - **Value:** `+18663667374`
   - Click **OK**
7. Click **Save** at the top
8. Wait for restart (automatic, usually 1-2 minutes)

**Resource Group:** `TraccEms-Dev-USCentral` (or check in Azure Portal)

#### TraccEms-Prod-Backend

**Steps:**
1. Go to: Azure Portal → App Services → **TraccEms-Prod-Backend**
2. Click: **Configuration** (in left menu)
3. Click: **Application settings** tab
4. Find: `AZURE_COMMUNICATION_PHONE_NUMBER` in the list
5. **If it exists:**
   - Click **Edit** (pencil icon)
   - Change value from: `+18339675959`
   - To: `+18663667374`
   - Click **OK**
6. **If it doesn't exist:**
   - Click **+ New application setting**
   - **Name:** `AZURE_COMMUNICATION_PHONE_NUMBER`
   - **Value:** `+18663667374`
   - Click **OK**
7. Click **Save** at the top
8. Wait for restart (automatic, usually 1-2 minutes)

**Resource Group:** `TraccEms-Prod-USCentral` (or check in Azure Portal)

---

## Verification After Updates

### Verify GitHub Secret

1. Go back to: GitHub → Settings → Secrets and variables → Actions
2. Verify `AZURE_COMMUNICATION_PHONE_NUMBER` appears in the list
3. Click on it to verify value (will show masked: `+1866******`)

### Verify Azure App Services

**TraccEms-Dev-Backend:**
1. Azure Portal → TraccEms-Dev-Backend → Configuration
2. Verify `AZURE_COMMUNICATION_PHONE_NUMBER` shows `+18663667374`
3. Check Log stream for successful restart

**TraccEms-Prod-Backend:**
1. Azure Portal → TraccEms-Prod-Backend → Configuration
2. Verify `AZURE_COMMUNICATION_PHONE_NUMBER` shows `+18663667374`
3. Check Log stream for successful restart

---

## Application Monitoring

### Check Application Status

**Daily (First Week):**
- Azure Portal → Communication Services → TraccComms → Regulatory Documents
- Find application: `35e65296-1dee-4d7d-970b-43d4dac831e3`
- Check status (should show "Submitted" or "Under Review")
- Look for any comments or updates

**Expected Timeline:**
- Normal: 1-3 business days
- Azure warning: Up to 5 weeks (but typically faster)

**Next Check:** February 6, 2026 (3 business days from submission)

### Monitor Email

- **Email:** `chuck41090@mac.com`
- Check inbox and spam folder
- Azure will send notifications about status changes

---

## Documentation Reference

**Key Documents:**
- [`toll-free-verification-submitted-application.md`](../reference/azure/toll-free-verification-submitted-application.md) - Application tracking
- [`phone-number-configuration-update-summary.md`](../reference/azure/phone-number-configuration-update-summary.md) - Configuration update guide
- [`toll-free-verification-final-submission-checklist.md`](../reference/azure/toll-free-verification-final-submission-checklist.md) - Complete checklist

---

## Quick Reference

**Application ID:** `35e65296-1dee-4d7d-970b-43d4dac831e3`  
**New Phone Number:** `+18663667374`  
**Old Phone Number:** `+18339675959` (released)

**GitHub Secret:** CREATE `AZURE_COMMUNICATION_PHONE_NUMBER` = `+18663667374`  
**Azure App Services:** UPDATE `AZURE_COMMUNICATION_PHONE_NUMBER` = `+18663667374`

**Direct Portal URLs:**
- Regulatory Documents: https://portal.azure.com/#@traccems.com/resource/subscriptions/fb5dde6b-779f-4ef5-b457-4b4d087a48ee/resourceGroups/DefaultResourceGroup-EUS2/providers/Microsoft.Communication/CommunicationServices/TraccComms/regulatory_documents

---

**Last Updated:** February 3, 2026  
**Status:** Ready for Manual Updates
