
> tcc-backend@1.0.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmhhu72tr000g60o5eh13qop3
MULTI_LOC: Fetching active locations for user: cmhhu72tr000g60o5eh13qop3
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fro[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:318:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:336:3)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
s for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
MULTI_LOC: Fetching active locations for user: cmhhu72tr000g60o5eh13qop3
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
MULTI_LOC: Found 9 active locations
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
PHASE_A: Facilities API called with filters: {
  name: undefined,
  type: undefined,
  city: undefined,
  state: 'PA',
  isActive: true,
  page: 1,
  limit: 50,
  radius: undefined,
  originLat: undefined,
  originLng: undefined,
  showAllStates: undefined
}
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
PHASE_A: Found 2 facilities
MULTI_LOC: Found 9 active locations
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
PHASE_A: Facilities API called with filters: {
  name: undefined,
  type: undefined,
  city: undefined,
  state: 'PA',
  isActive: true,
  page: 1,
  limit: 50,
  radius: undefined,
  originLat: undefined,
  originLng: undefined,
  showAllStates: undefined
}
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
PHASE_A: Found 2 facilities
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Loading pickup locations for ID: cmhhu72tt000i60o506c80rs6
TCC_DEBUG: Found healthcare location: Penn Highlands Brookville
TCC_DEBUG: Querying pickup locations with hospitalId: cmhhu72tt000i60o506c80rs6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found pickup locations: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Loading pickup locations for ID: cmhhu72tt000i60o506c80rs6
TCC_DEBUG: Found healthcare location: Penn Highlands Brookville
TCC_DEBUG: Querying pickup locations with hospitalId: cmhhu72tt000i60o506c80rs6
TCC_DEBUG: Found pickup locations: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu72tr000g60o5eh13qop3',
  email: 'chuck@ferrellhospitals.com',
  name: 'Chuck Ferrell',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmhhu72tr000g60o5eh13qop3'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmhhu72tr000g60o5eh13qop3
TCC_FILTER_DEBUG: Found 9 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 9 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "cmhhu72tt000i60o506c80rs6",
        "cmhhu72tu000k60o560ylbflb",
        "cmhhu72tu000m60o5g35qx5mh",
        "cmhhu72tv000o60o5371jeuzr",
        "cmhhu72tv000q60o5i9lc7q0j",
        "cmhhu72tw000s60o5ilatptdl",
        "cmhhu72tx000u60o54h4s3zux",
        "cmhhu72ty000w60o5gsqacwu9",
        "cmhhu72ty000y60o5hqbzbd3p"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmhhu72tr000g60o5eh13qop3"
  }
]
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '47',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'close',
    referer: 'http://localhost:3000/login',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzJ0cjAwMGc2MG81ZWgxM3FvcDMiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYyMTAzNjkzLCJleHAiOjE3NjIxOTAwOTN9.a3v7mnzsg4UutKeZED74HyKCAh0KZ47rbFOgQLU3lEI',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmhhu71y8000060o54zf44dun
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: undefined
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmhhz2jo00000u3f7yopqvmty',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhyugvc0000qmu72fwoba90',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  },
  {
    id: 'cmhhynn3q0000h5a2qx80m94m',
    healthcareCreatedById: 'cmhhu72tr000g60o5eh13qop3'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Mon Valley',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'UPMC Bedford Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Altoona Regional Emergency Department'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Mon Valley
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Altoona Regional Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: UPMC Bedford Emergency Department
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 2 agency responses in database
TCC_DEBUG: Returning 2 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtaGh1NzF5ODAwMDA2MG81NHpmNDRkdW4iLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYyMTA0MTU4LCJleHAiOjE3NjIxOTA1NTh9.zoIhOZ8p9AuYMnnc_XhZvYZmiXglHUYlBr7Cb37sdvI'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmhhu71y8000060o54zf44dun',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:318:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:336:3)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
