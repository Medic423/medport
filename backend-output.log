
> tcc-backend@1.0.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: EMS Login request received: { email: 'doe@elkcoems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDg5OTYyLCJleHAiOjE3NjE1NzYzNjJ9.VnH2yZP8yjiWwN708LVnVN-Demxu6Yxt8hjpA9lK8eo'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: Returning 4 agency responses with trip details
TCC_DEBUG: EMS Login request received: { email: 'doe@elkcoems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDg5OTYyLCJleHAiOjE3NjE1NzYzNjJ9.VnH2yZP8yjiWwN708LVnVN-Demxu6Yxt8hjpA9lK8eo'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: Returning 4 agency responses with trip details
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: EMS Login request received: { email: 'doe@elkcoems.com', password: '***' }
TCC_DEBUG: Looking for EMS user with email: doe@elkcoems.com
TCC_DEBUG: EMS user lookup result: {
  id: 'cmgzdos7h0005pgnvqjcczd8b',
  email: 'doe@elkcoems.com',
  name: 'John Doer'
}
TCC_DEBUG: Password match result: false
TCC_DEBUG: Password mismatch for user: doe@elkcoems.com
TCC_DEBUG: EMS Login request received: { email: 'doe@elkcoems.com', password: '***' }
TCC_DEBUG: Looking for EMS user with email: doe@elkcoems.com
TCC_DEBUG: EMS user lookup result: {
  id: 'cmgzdos7h0005pgnvqjcczd8b',
  email: 'doe@elkcoems.com',
  name: 'John Doer'
}
TCC_DEBUG: Password match result: true
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDg5OTYyLCJleHAiOjE3NjE1NzYzNjJ9.VnH2yZP8yjiWwN708LVnVN-Demxu6Yxt8hjpA9lK8eo'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: Returning 4 agency responses with trip details
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
TCC_DEBUG: FRONTEND_URL = "http://localhost:3000"
TCC_DEBUG: Cleaned frontendUrl = "http://localhost:3000"
TCC_DEBUG: Cleaned corsOrigin = "http://localhost:3000"
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: Login request received: {
  email: 'doe@elkcoems.com',
  password: '***',
  body: { email: 'doe@elkcoems.com', password: 'testpassword' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '54',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'close',
    referer: 'http://localhost:3000/ems-login',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDg5OTYyLCJleHAiOjE3NjE1NzYzNjJ9.VnH2yZP8yjiWwN708LVnVN-Demxu6Yxt8hjpA9lK8eo',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'doe@elkcoems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgzdos7h0005pgnvqjcczd8b',
  email: 'doe@elkcoems.com',
  name: 'John Doer',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Login failed: Invalid email or password
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '47',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'close',
    referer: 'http://localhost:3000/login',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDg5OTYyLCJleHAiOjE3NjE1NzYzNjJ9.VnH2yZP8yjiWwN708LVnVN-Demxu6Yxt8hjpA9lK8eo',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgibivvy00001hs9faiqsj3a',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmgibivvy00001hs9faiqsj3a
TCC_DEBUG: Login request received: {
  email: 'test@ems.com',
  password: '***',
  body: { email: 'test@ems.com', password: 'testpassword' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '50',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'close',
    referer: 'http://localhost:3000/ems-login',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liaXZ2eTAwMDAxaHM5ZmFpcXNqM2EiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzYxNDkwMTYyLCJleHAiOjE3NjE1NzY1NjJ9.JxKca4iI0EupIdJ44KLPicchKZ37u3J8YGIqtBJNv1M',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'test@ems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgibivzi00031hs95g8n251e',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Using agencyId for EMS user: {
  userId: 'cmgibivzi00031hs95g8n251e',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Login successful, user ID in token: cmgibivzi00031hs95g8n251e
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Login request received: {
  email: 'test@ems.com',
  password: '***',
  body: { email: 'test@ems.com', password: 'testpassword' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '50',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'close',
    referer: 'http://localhost:3000/ems-login',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTc1LCJleHAiOjE3NjE1NzY1NzV9.RaKECugYl0rIJDTb6Jm2gWAphuQFxFrAN-T08apDozU',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'test@ems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgibivzi00031hs95g8n251e',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Using agencyId for EMS user: {
  userId: 'cmgibivzi00031hs95g8n251e',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Login successful, user ID in token: cmgibivzi00031hs95g8n251e
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: Get notifications request for user: cmftypzwx0000p4vf9tdqdwql
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7sjgag0000pohpw785q551',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7lpmal000111zcl21tppau',
    assignedUnit: {
      id: 'cmh7lpmal000111zcl21tppau',
      unitNumber: 'Elk - 51',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rul1u0002nskmzlurq6y8',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  { id: 'cmh7sjgag0000pohpw785q551', healthcareCreatedById: null },
  { id: 'cmh7rul1u0002nskmzlurq6y8', healthcareCreatedById: null },
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands State College',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Huntingdon',
  toLocation: 'Penn Highlands DuBois',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands State College
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Huntingdon
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnR5cHp3eDAwMDBwNHZmOXRkcWR3cWwiLCJlbWFpbCI6InRlc3RAZW1zLmNvbSIsInVzZXJUeXBlIjoiRU1TIiwiaWF0IjoxNzYxNDkwMTkyLCJleHAiOjE3NjE1NzY1OTJ9.XaPxKyWUExbMg5xBjkxyQlImV5vKfjIhJMiyOoBad6o'
}
TCC_DEBUG: authenticateAdmin - token from cookie: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmftypzwx0000p4vf9tdqdwql',
  email: 'test@ems.com',
  name: 'Chuck Franklin',
  userType: 'EMS',
  agencyName: 'Altoona Regional EMS',
  agencyId: 'cmftypzwx0000p4vf9tdqdwql'
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: undefined
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: undefined
TCC_DEBUG: Found trips: 13
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Test Hospital',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Cleveland Clinic' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Healthcare Login request received: { email: 'chuck@ferrellhospitals.com', password: '***' }
MULTI_LOC: Healthcare login - manageMultipleLocations: true
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgibjbrg0000jdab1lrxhfe1
MULTI_LOC: Fetching active locations for user: cmgibjbrg0000jdab1lrxhfe1
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
MULTI_LOC: Fetching active locations for user: cmgibjbrg0000jdab1lrxhfe1
TCC_DEBUG: Get notifications request for user: cmgibjbrg0000jdab1lrxhfe1
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
MULTI_LOC: Found 10 active locations
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
PHASE_A: Facilities API called with filters: {
  name: undefined,
  type: undefined,
  city: undefined,
  state: 'PA',
  isActive: true,
  page: 1,
  limit: 50,
  radius: 100,
  originLat: 41.1614,
  originLng: -79.0831,
  showAllStates: undefined
}
PHASE_A: Using geographic filtering { originLat: 41.1614, originLng: -79.0831, radius: 100 }
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
MULTI_LOC: Found 10 active locations
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
PHASE_A: Found 5 facilities
PHASE_A: Facilities API called with filters: {
  name: undefined,
  type: undefined,
  city: undefined,
  state: 'PA',
  isActive: true,
  page: 1,
  limit: 50,
  radius: 100,
  originLat: 41.1614,
  originLng: -79.0831,
  showAllStates: undefined
}
PHASE_A: Using geographic filtering { originLat: 41.1614, originLng: -79.0831, radius: 100 }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
PHASE_A: Found 5 facilities
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Returning 4 agency responses with trip details
TCC_DEBUG: Loading pickup locations for ID: loc_001
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found healthcare location: Penn Highlands Brookville
TCC_DEBUG: Querying pickup locations with hospitalId: loc_001
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found pickup locations: 1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Loading pickup locations for ID: loc_001
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found healthcare location: Penn Highlands Brookville
TCC_DEBUG: Querying pickup locations with hospitalId: loc_001
TCC_DEBUG: Found pickup locations: 1
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: Returning 4 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 1
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 1
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 21
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    status: 'CANCELLED',
    assignedUnitId: 'cmh219ud20003hizqjm4nueum',
    assignedUnit: {
      id: 'cmh219ud20003hizqjm4nueum',
      unitNumber: 'Test-003- Wheelchair',
      type: 'WHEELCHAIR_VAN'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7rd0ju0000nskmmyrqy4xz',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh7phz2t0000dyudh0vvy4ve',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Elk',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Brookville'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands Mon Valley'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Cleveland Clinic'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Elk
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Brookville
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Mon Valley
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Calculated distance: 79.59963248949543 miles, estimated time: 159 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.2031, longitude: -79.9262 }
TCC_DEBUG: Calculated distance: 0 miles, estimated time: 0 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Cleveland Clinic
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: Found 4 agency responses in database
TCC_DEBUG: Returning 4 agency responses with trip details
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Trips sample fields ‚Üí []
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí []
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 1
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    status: 'ACCEPTED',
    assignedUnitId: 'cmh7mv0mx000611zcskleddr0',
    assignedUnit: {
      id: 'cmh7mv0mx000611zcskleddr0',
      unitNumber: 'Elk - 420',
      type: 'AMBULANCE'
    }
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh7rl1pq0001nskmxke796py',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Calculate distance request: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands State College',
  fromLocationId: undefined,
  destinationFacilityId: undefined
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2liamJyZzAwMDBqZGFiMWxyeGhmZTEiLCJlbWFpbCI6ImNodWNrQGZlcnJlbGxob3NwaXRhbHMuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzYxNDkwMjA5LCJleHAiOjE3NjE1NzY2MDl9.gXBaW02loQMMkwA-Uru5l8PKv6mivwY1FP9mbYsSKuY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Authenticated user: {
  id: 'cmgibjbrg0000jdab1lrxhfe1',
  email: 'chuck@ferrellhospitals.com',
  name: 'chuck@ferrellhospitals.com',
  userType: 'HEALTHCARE',
  facilityName: 'Ferrell Hospitals',
  agencyName: undefined,
  agencyId: undefined,
  manageMultipleLocations: true
}
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined,
  healthcareUserId: 'cmgibjbrg0000jdab1lrxhfe1'
}
MULTI_LOC: Location filters - fromLocationId: undefined healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Filtering trips for healthcareUserId: cmgibjbrg0000jdab1lrxhfe1
TCC_FILTER_DEBUG: Found 10 locations for user
MULTI_LOC: Filtering by user locations OR created trips: 10 locations
TCC_FILTER_DEBUG: OR filter applied: [
  {
    "fromLocationId": {
      "in": [
        "loc_004",
        "loc_005",
        "loc_006",
        "loc_007",
        "loc_008",
        "loc_009",
        "cmgzcv0hf0003pgnvm3g3inzo",
        "loc_001",
        "loc_002",
        "loc_003"
      ]
    }
  },
  {
    "healthcareCreatedById": "cmgibjbrg0000jdab1lrxhfe1"
  }
]
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    status: 'COMPLETED',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_FILTER_DEBUG: Trips healthcareCreatedById sample ‚Üí [
  {
    id: 'cmh3iqiig0002uv104b5onjc2',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh3gyfeu0000ypb6eai3juyf',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  },
  {
    id: 'cmh0npdd60008pgnv7a4wdx5j',
    healthcareCreatedById: 'cmgibjbrg0000jdab1lrxhfe1'
  }
]
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands DuBois',
  toLocation: 'Penn Highlands Elk'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands DuBois
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Connellsville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Clearfield',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands State College'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Calculating trip distance and time: { fromLocation: 'Test Hospital', toLocation: 'Penn Highlands Tyrone' }
TCC_DEBUG: Looking up coordinates for fromLocation: Test Hospital
TCC_DEBUG: Calculating trip distance and time: {
  fromLocation: 'Penn Highlands Brookville',
  toLocation: 'Penn Highlands DuBois'
}
TCC_DEBUG: Looking up coordinates for fromLocation: Penn Highlands Brookville
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 40.7128, longitude: -74.006 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1614, longitude: -79.0831 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Clearfield
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Using mock coordinates for fromLocation: Penn Highlands Connellsville
TCC_DEBUG: Looking up coordinates for toLocation: Penn Highlands DuBois
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 133.7870504023064 miles, estimated time: 268 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Tyrone
TCC_DEBUG: Calculated distance: 400.08515273699214 miles, estimated time: 800 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 17.048887048562566 miles, estimated time: 34 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands State College
TCC_DEBUG: Calculated distance: 126.13463604926514 miles, estimated time: 252 minutes
TCC_DEBUG: Using mock coordinates for toLocation: Penn Highlands Elk
TCC_DEBUG: Calculated distance: 150.83238869714305 miles, estimated time: 302 minutes
TCC_DEBUG: Found coordinates from healthcare location: { latitude: 41.1192, longitude: -78.7603 }
TCC_DEBUG: Calculated distance: 87.98432552000615 miles, estimated time: 176 minutes
